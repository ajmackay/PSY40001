<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Week 1 Data Screening and Missing Values | PSY40001 SPSS to R notes</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Week 1 Data Screening and Missing Values | PSY40001 SPSS to R notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Week 1 Data Screening and Missing Values | PSY40001 SPSS to R notes" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Aaron Mackay" />


<meta name="date" content="2021-03-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="intro-to-regression.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/table1-1.0/table1_defaults.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PSY40001: SPSS to R Lab</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html"><i class="fa fa-check"></i><b>1</b> Data Screening and Missing Values</a>
<ul>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mPart1"><i class="fa fa-check"></i>Part 1: Data Exploration</a>
<ul>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mImport"><i class="fa fa-check"></i>Importing SPSS file into R</a></li>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mMissing-Values"><i class="fa fa-check"></i>Set Up Missing Values</a></li>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mModify"><i class="fa fa-check"></i>Modyfing the data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mPart2"><i class="fa fa-check"></i>Part 2: Missing Value Analysis</a>
<ul>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mUnivariate"><i class="fa fa-check"></i>Univariate Statistics</a></li>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mSVTT"><i class="fa fa-check"></i>Separate Variance T-Tests</a></li>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mTabulated-Patterns"><i class="fa fa-check"></i>Missing and Tabulated Patterns</a></li>
<li class="chapter" data-level="" data-path="data-screening-and-missing-values.html"><a href="data-screening-and-missing-values.html#mMcar"><i class="fa fa-check"></i>Little’s MCAR Test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro-to-regression.html"><a href="intro-to-regression.html"><i class="fa fa-check"></i><b>2</b> Intro to Regression</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro-to-regression.html"><a href="intro-to-regression.html#m-data-screening"><i class="fa fa-check"></i><b>2.1</b> {-#m} Data Screening</a></li>
<li class="chapter" data-level="2.2" data-path="intro-to-regression.html"><a href="intro-to-regression.html#conducting-a-multiple-regression"><i class="fa fa-check"></i><b>2.2</b> Conducting a Multiple Regression</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="wk-3.html"><a href="wk-3.html"><i class="fa fa-check"></i><b>3</b> Wk 3</a></li>
<li class="chapter" data-level="4" data-path="wk-4.html"><a href="wk-4.html"><i class="fa fa-check"></i><b>4</b> Wk 4</a></li>
<li class="chapter" data-level="5" data-path="wk-5.html"><a href="wk-5.html"><i class="fa fa-check"></i><b>5</b> Wk 5</a></li>
<li class="chapter" data-level="6" data-path="wk-6.html"><a href="wk-6.html"><i class="fa fa-check"></i><b>6</b> Wk 6</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PSY40001 SPSS to R notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-screening-and-missing-values" class="section level1" number="1">
<h1><span class="header-section-number">Week 1</span> Data Screening and Missing Values</h1>
<p>The packages that we will use for this week’s exercises are as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-screening-and-missing-values.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># For general functions</span></span>
<span id="cb1-2"><a href="data-screening-and-missing-values.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven) <span class="co"># For importing SPSS file into R</span></span>
<span id="cb1-3"><a href="data-screening-and-missing-values.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(table1) <span class="co"># For Missing Data Table</span></span>
<span id="cb1-4"><a href="data-screening-and-missing-values.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar) <span class="co"># Visualising missing data</span></span>
<span id="cb1-5"><a href="data-screening-and-missing-values.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># For general tables</span></span></code></pre></div>
<div id="mPart1" class="section level2 unnumbered">
<h2>Part 1: Data Exploration</h2>
<div id="mImport" class="section level3 unnumbered">
<h3>Importing SPSS file into R</h3>
<p>Importing SPSS files into R is easy with the <code>haven</code> package.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data-screening-and-missing-values.html#cb2-1" aria-hidden="true" tabindex="-1"></a>lab1_raw <span class="ot">&lt;-</span> <span class="fu">read_sav</span>(<span class="st">&quot;data/lab1data.sav&quot;</span>);</span>
<span id="cb2-2"><a href="data-screening-and-missing-values.html#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="data-screening-and-missing-values.html#cb2-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb2-4"><a href="data-screening-and-missing-values.html#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(lab1_raw)</span>
<span id="cb2-5"><a href="data-screening-and-missing-values.html#cb2-5" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">nicname</th>
<th align="right">sex</th>
<th align="right">height</th>
<th align="right">border</th>
<th align="right">vegitarian</th>
<th align="right">prevmark</th>
<th align="right">hopemark</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">crit</td>
<td align="right">2</td>
<td align="right">150</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">85</td>
<td align="right">95</td>
</tr>
<tr class="even">
<td align="left">slim</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">kac</td>
<td align="right">2</td>
<td align="right">167</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">50</td>
<td align="right">55</td>
</tr>
<tr class="even">
<td align="left">dusty</td>
<td align="right">2</td>
<td align="right">145</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">50</td>
<td align="right">60</td>
</tr>
<tr class="odd">
<td align="left">princess</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">85</td>
</tr>
<tr class="even">
<td align="left">Bean</td>
<td align="right">1</td>
<td align="right">189</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">80</td>
<td align="right">80</td>
</tr>
</tbody>
</table>
</div>
<div id="mMissing-Values" class="section level3 unnumbered">
<h3>Set Up Missing Values</h3>
<p>R automatically codes missing values with the “NA” symbol. While this can make things easier when running certain analyses, it does restrict us in the sense that we cannot easily define what a specific missing value represents (for example, we are unable to distinguish a missing value that is due to a participant refusing to answer the question with a missing value that was due to the researcher forgetting to ask).</p>
<p>We can, however easily see how many missing values there are for each variable in our dataset:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-screening-and-missing-values.html#cb3-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb3-2"><a href="data-screening-and-missing-values.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lab1_raw),</span>
<span id="cb3-3"><a href="data-screening-and-missing-values.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="at">caption =</span> <span class="st">&quot;Summary of Raw Data&quot;</span></span>
<span id="cb3-4"><a href="data-screening-and-missing-values.html#cb3-4" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
<table>
<caption><span id="tab:missing-values">Table 1.1: </span>Summary of Raw Data</caption>
<thead>
<tr class="header">
<th></th>
<th align="center">nicname</th>
<th align="center">sex</th>
<th align="center">height</th>
<th align="center">border</th>
<th align="center">vegitarian</th>
<th align="center">prevmark</th>
<th align="center">hopemark</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td align="center">Length:41</td>
<td align="center">Min. :1.000</td>
<td align="center">Min. :145.0</td>
<td align="center">Min. : 1.000</td>
<td align="center">Min. :1.00</td>
<td align="center">Min. :45.00</td>
<td align="center">Min. :40.00</td>
</tr>
<tr class="even">
<td></td>
<td align="center">Class :character</td>
<td align="center">1st Qu.:1.000</td>
<td align="center">1st Qu.:155.2</td>
<td align="center">1st Qu.: 1.000</td>
<td align="center">1st Qu.:1.00</td>
<td align="center">1st Qu.:63.50</td>
<td align="center">1st Qu.:75.00</td>
</tr>
<tr class="odd">
<td></td>
<td align="center">Mode :character</td>
<td align="center">Median :2.000</td>
<td align="center">Median :166.0</td>
<td align="center">Median : 2.000</td>
<td align="center">Median :1.00</td>
<td align="center">Median :69.00</td>
<td align="center">Median :80.00</td>
</tr>
<tr class="even">
<td></td>
<td align="center">NA</td>
<td align="center">Mean :1.615</td>
<td align="center">Mean :166.3</td>
<td align="center">Mean : 2.361</td>
<td align="center">Mean :1.15</td>
<td align="center">Mean :69.34</td>
<td align="center">Mean :78.23</td>
</tr>
<tr class="odd">
<td></td>
<td align="center">NA</td>
<td align="center">3rd Qu.:2.000</td>
<td align="center">3rd Qu.:178.0</td>
<td align="center">3rd Qu.: 3.000</td>
<td align="center">3rd Qu.:1.00</td>
<td align="center">3rd Qu.:79.00</td>
<td align="center">3rd Qu.:85.00</td>
</tr>
<tr class="even">
<td></td>
<td align="center">NA</td>
<td align="center">Max. :2.000</td>
<td align="center">Max. :198.0</td>
<td align="center">Max. :10.000</td>
<td align="center">Max. :2.00</td>
<td align="center">Max. :89.00</td>
<td align="center">Max. :99.00</td>
</tr>
<tr class="odd">
<td></td>
<td align="center">NA</td>
<td align="center">NA’s :2</td>
<td align="center">NA’s :7</td>
<td align="center">NA’s :5</td>
<td align="center">NA’s :1</td>
<td align="center">NA’s :6</td>
<td align="center">NA’s :2</td>
</tr>
</tbody>
</table>
</div>
<div id="mModify" class="section level3 unnumbered">
<h3>Modyfing the data</h3>
<div id="mNew-variable" class="section level4 unnumbered">
<h4>Insert new Variable</h4>
<p>To create new variables inside a dataframe in R, we can use the <code>mutate</code> function.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data-screening-and-missing-values.html#cb4-1" aria-hidden="true" tabindex="-1"></a>lab1_mod <span class="ot">&lt;-</span> lab1_raw <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="data-screening-and-missing-values.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dog =</span> <span class="cn">NA</span>);</span></code></pre></div>
<p>And if we want to rearrange our variables so that “dog” is next to “nicname” we can do so by specifying the order of the index.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-screening-and-missing-values.html#cb5-1" aria-hidden="true" tabindex="-1"></a>lab1_mod <span class="ot">&lt;-</span> lab1_mod[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">8</span>,<span class="dv">2</span><span class="sc">:</span><span class="dv">7</span>)]</span>
<span id="cb5-2"><a href="data-screening-and-missing-values.html#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="data-screening-and-missing-values.html#cb5-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb5-4"><a href="data-screening-and-missing-values.html#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(lab1_mod)</span>
<span id="cb5-5"><a href="data-screening-and-missing-values.html#cb5-5" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">nicname</th>
<th align="left">dog</th>
<th align="right">sex</th>
<th align="right">height</th>
<th align="right">border</th>
<th align="right">vegitarian</th>
<th align="right">prevmark</th>
<th align="right">hopemark</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">crit</td>
<td align="left">NA</td>
<td align="right">2</td>
<td align="right">150</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">85</td>
<td align="right">95</td>
</tr>
<tr class="even">
<td align="left">slim</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">kac</td>
<td align="left">NA</td>
<td align="right">2</td>
<td align="right">167</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">50</td>
<td align="right">55</td>
</tr>
<tr class="even">
<td align="left">dusty</td>
<td align="left">NA</td>
<td align="right">2</td>
<td align="right">145</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">50</td>
<td align="right">60</td>
</tr>
<tr class="odd">
<td align="left">princess</td>
<td align="left">NA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">85</td>
</tr>
<tr class="even">
<td align="left">Bean</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">189</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">80</td>
<td align="right">80</td>
</tr>
</tbody>
</table>
</div>
<div id="mInputting" class="section level4 unnumbered">
<h4>Inputting Data</h4>
<p>Inputting data manually is not as intuitive in R as it is in SPSS as you cannot just click and edit specific entries. While this may seem cumbersome at first, it does ensure that you cannot accidentally delete or edit entries and any editting that is performed is documented (as long as you are saving the syntax).</p>
<p>In this case, we just need a random assortment of “True” and “False” for our dog variable. This can be achieved with the “sample” function.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data-screening-and-missing-values.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb6-2"><a href="data-screening-and-missing-values.html#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="data-screening-and-missing-values.html#cb6-3" aria-hidden="true" tabindex="-1"></a>lab1_mod<span class="sc">$</span>dog <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;True&quot;</span>, <span class="st">&quot;False&quot;</span>), <span class="dv">41</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>));</span>
<span id="cb6-4"><a href="data-screening-and-missing-values.html#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="data-screening-and-missing-values.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lab1_mod)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 8
##   nicname  dog          sex height      border vegitarian prevmark hopemark
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl+lbl&gt;  &lt;dbl&gt;   &lt;dbl+lbl&gt;  &lt;dbl+lbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
## 1 crit     True   2 [Femal~    150  1 [first ~    1 [no]        85       95
## 2 slim     False NA             NA NA             2 [yes]       NA       NA
## 3 kac      True   2 [Femal~    167  1 [first ~    1 [no]        50       55
## 4 dusty    True   2 [Femal~    145  4             1 [no]        50       60
## 5 princess False  2 [Femal~     NA  1 [first ~    1 [no]        NA       85
## 6 Bean     True   1 [Male]     189  3             1 [no]        80       80</code></pre>
<p>And if we want to edit a specific entry, we can do so by specifying the corresponding index.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-screening-and-missing-values.html#cb8-1" aria-hidden="true" tabindex="-1"></a>lab1_mod<span class="sc">$</span>dog[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="st">&quot;FALSE&quot;</span></span>
<span id="cb8-2"><a href="data-screening-and-missing-values.html#cb8-2" aria-hidden="true" tabindex="-1"></a>lab1_mod<span class="sc">$</span>dog[<span class="dv">3</span>];</span></code></pre></div>
<pre><code>## [1] &quot;FALSE&quot;</code></pre>
<p>Or you can use the “which” function to return the index.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-screening-and-missing-values.html#cb10-1" aria-hidden="true" tabindex="-1"></a>lab1_mod<span class="sc">$</span>nicname[<span class="fu">which</span>(lab1_mod<span class="sc">$</span>nicname <span class="sc">==</span> <span class="st">&quot;dusty&quot;</span>)] <span class="ot">&lt;-</span> <span class="st">&quot;doodles&quot;</span></span>
<span id="cb10-2"><a href="data-screening-and-missing-values.html#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="data-screening-and-missing-values.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lab1_mod<span class="sc">$</span>nicname)</span></code></pre></div>
<pre><code>## [1] &quot;crit&quot;     &quot;slim&quot;     &quot;kac&quot;      &quot;doodles&quot;  &quot;princess&quot; &quot;Bean&quot;</code></pre>
</div>
<div id="mCompute-new" class="section level4 unnumbered">
<h4>Compute new Variable</h4>
<p>The “mutate” function makes it easy to create new variables from existing variables.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data-screening-and-missing-values.html#cb12-1" aria-hidden="true" tabindex="-1"></a>lab1_mod <span class="ot">&lt;-</span> lab1_mod <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="data-screening-and-missing-values.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diffmark =</span> prevmark <span class="sc">-</span> hopemark);</span>
<span id="cb12-3"><a href="data-screening-and-missing-values.html#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="data-screening-and-missing-values.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lab1_mod)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   nicname dog        sex height   border vegitarian prevmark hopemark
##   &lt;chr&gt;   &lt;chr&gt; &lt;dbl+lb&gt;  &lt;dbl&gt; &lt;dbl+lb&gt;  &lt;dbl+lbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
## 1 crit    True   2 [Fem~    150  1 [fir~    1 [no]        85       95
## 2 slim    False NA           NA NA          2 [yes]       NA       NA
## 3 kac     FALSE  2 [Fem~    167  1 [fir~    1 [no]        50       55
## 4 doodles True   2 [Fem~    145  4          1 [no]        50       60
## 5 prince~ False  2 [Fem~     NA  1 [fir~    1 [no]        NA       85
## 6 Bean    True   1 [Mal~    189  3          1 [no]        80       80
## # ... with 1 more variable: diffmark &lt;dbl&gt;</code></pre>
</div>
<div id="mEdit-Name" class="section level4 unnumbered">
<h4>Edit Variable name*</h4>
<p>**This was not part of the week 1 lab, but the variable name “vegitarian” could use a little correcting!*</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data-screening-and-missing-values.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(lab1_mod)[<span class="fu">colnames</span>(lab1_mod) <span class="sc">==</span> <span class="st">&quot;vegitarian&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;vegetarian&quot;</span></span>
<span id="cb14-2"><a href="data-screening-and-missing-values.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(lab1_mod)</span></code></pre></div>
<pre><code>## [1] &quot;nicname&quot;    &quot;dog&quot;        &quot;sex&quot;        &quot;height&quot;     &quot;border&quot;    
## [6] &quot;vegetarian&quot; &quot;prevmark&quot;   &quot;hopemark&quot;   &quot;diffmark&quot;</code></pre>
</div>
</div>
</div>
<div id="mPart2" class="section level2 unnumbered">
<h2>Part 2: Missing Value Analysis</h2>
<div id="mUnivariate" class="section level3 unnumbered">
<h3>Univariate Statistics</h3>
<p>The <code>table1</code> package allows us to quickly and easily see the number of missing values and their respective proportions.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-screening-and-missing-values.html#cb16-1" aria-hidden="true" tabindex="-1"></a>table1<span class="sc">::</span><span class="fu">table1</span>(<span class="sc">~</span>height <span class="sc">+</span> prevmark <span class="sc">+</span> hopemark <span class="sc">+</span> border <span class="sc">+</span> sex <span class="sc">+</span> vegetarian, <span class="at">data =</span> lab1_mod);</span></code></pre></div>
<div class="Rtable1"><table class="Rtable1">
<thead>
<tr>
<th class='rowlabel firstrow lastrow'></th>
<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=41)</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>height in centermeters</span></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>166 (15.6)</td>
</tr>
<tr>
<td class='rowlabel'>Median [Min, Max]</td>
<td>166 [145, 198]</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>7 (17.1%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>What is your average previous mark in stats?</span></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>69.3 (11.9)</td>
</tr>
<tr>
<td class='rowlabel'>Median [Min, Max]</td>
<td>69.0 [45.0, 89.0]</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>6 (14.6%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>What is your hoped for mark in this subject?</span></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>78.2 (12.1)</td>
</tr>
<tr>
<td class='rowlabel'>Median [Min, Max]</td>
<td>80.0 [40.0, 99.0]</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>2 (4.9%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>birth order</span></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>2.36 (1.66)</td>
</tr>
<tr>
<td class='rowlabel'>Median [Min, Max]</td>
<td>2.00 [1.00, 10.0]</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>5 (12.2%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Gender</span></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>1.62 (0.493)</td>
</tr>
<tr>
<td class='rowlabel'>Median [Min, Max]</td>
<td>2.00 [1.00, 2.00]</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>2 (4.9%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Are you a vegetarian</span></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>1.15 (0.362)</td>
</tr>
<tr>
<td class='rowlabel'>Median [Min, Max]</td>
<td>1.00 [1.00, 2.00]</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>1 (2.4%)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="mSVTT" class="section level3 unnumbered">
<h3>Separate Variance T-Tests</h3>
<p>Unfortunately I am yet to find a simple way to perform these tests in R. If you have any ideas as to how to get an output similar to the one shown in SPSS then please feel free to add them here!</p>
</div>
<div id="mTabulated-Patterns" class="section level3 unnumbered">
<h3>Missing and Tabulated Patterns</h3>
<p>The <code>naniar</code> package provides easy to use tools to visualise the pattern of missing data in a similar way to the “Tabulated Patterns” table in SPSS.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="data-screening-and-missing-values.html#cb17-1" aria-hidden="true" tabindex="-1"></a>lab1_mod <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="data-screening-and-missing-values.html#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(height, prevmark, hopemark, border, sex, vegetarian) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="data-screening-and-missing-values.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">vis_miss</span>();</span></code></pre></div>
<p><img src="PSY40001_files/figure-html/naniar-1.png" width="672" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-screening-and-missing-values.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(lab1_mod)</span></code></pre></div>
<p><img src="PSY40001_files/figure-html/naniar-2.png" width="672" /></p>
</div>
<div id="mMcar" class="section level3 unnumbered">
<h3>Little’s MCAR Test</h3>
<p>Unfortunately again I was not able to find much in regards to a simple way to perform Little’s MCAR test on the missing data. The closest that I got was to <a href = https://github.com/rcst/little-test.git> this person’s github</a> who has created a function to perform the test. I have used it below and as you can see it returns similar (but not the same) results as the test in SPSS, however I cannot vouch for the mathematical reliability of the function.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-screening-and-missing-values.html#cb19-1" aria-hidden="true" tabindex="-1"></a>lab1_mcar <span class="ot">&lt;-</span> lab1_mod <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="data-screening-and-missing-values.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(height, prevmark, hopemark, border);</span>
<span id="cb19-3"><a href="data-screening-and-missing-values.html#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="data-screening-and-missing-values.html#cb19-4" aria-hidden="true" tabindex="-1"></a>lab1_mcar <span class="ot">&lt;-</span> <span class="fu">mcar</span>(lab1_mcar);</span></code></pre></div>
<pre><code>## Iterations of EM: 
## 1...2...3...4...5...6...7...8...9...10...11...12...13...14...15...16...17...18...19...20...21...
## this could take a while</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-screening-and-missing-values.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">chi_square =</span> lab1_mcar[[<span class="st">&quot;chi.square&quot;</span>]],</span>
<span id="cb21-2"><a href="data-screening-and-missing-values.html#cb21-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">df =</span> lab1_mcar[[<span class="st">&quot;df&quot;</span>]],</span>
<span id="cb21-3"><a href="data-screening-and-missing-values.html#cb21-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">p_value =</span> lab1_mcar[[<span class="st">&quot;p.value&quot;</span>]]);</span></code></pre></div>
<pre><code>##   chi_square df   p_value
## 1   19.41084 14 0.1498372</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="intro-to-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PSY40001.pdf", "PSY40001.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
